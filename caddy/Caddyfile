# Frontend
localhost {
    tls internal
    encode gzip

    reverse_proxy angular-app:4200

    header {
        Strict-Transport-Security "max-age=31536000;"
    }
}

# Backend
api.localhost {
    tls internal
    encode gzip

    reverse_proxy spring-boot-app:8080

    header {
        Strict-Transport-Security "max-age=31536000;"
    }
}

# Grafana
grafana.localhost {
    tls internal
    encode gzip

    reverse_proxy grafana:3000

    header {
        Strict-Transport-Security "max-age=31536000;"
    }
}

# InfluxDB
influxdb.localhost {
    tls internal
    encode gzip

    reverse_proxy influxdb:8086

    header {
        Strict-Transport-Security "max-age=31536000;"
    }
}

# phpMyAdmin
phpmyadmin.localhost {
    tls internal
    encode gzip

    reverse_proxy phpmyadmin:80

    header {
        Strict-Transport-Security "max-age=31536000;"
    }
}